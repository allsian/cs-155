\newif\ifshowsolutions
\showsolutionstrue
\input{preamble}
\newcommand{\boldline}[1]{\underline{\textbf{#1}}}

\chead{%
  {\vbox{%
      \vspace{2mm}
      \large
      Machine Learning \& Data Mining \hfill
      Caltech CS/CNS/EE 155 \hfill \\[1pt]
      Miniproject 3\hfill
      March $11^{th}$, 2017 \\
    }
  }
}

\begin{document}
\pagestyle{fancy}

% LaTeX is simple if you have a good template to work with! To use this document, simply fill in your text where we have indicated. To write mathematical notation in a fancy style, just write the notation inside enclosing $dollar signs$.

% For example:
% $y = x^2 + 2x + 1$

% For help with LaTeX, please feel free to see a TA!



\section{Introduction}
\medskip
\begin{itemize}

    \item \boldline{Group members} \\
    Bolton Bailey and David Inglis

    \item \boldline{Team name} \\
    One Hot Team

    \item \boldline{Division of labour} \\
    We both pair coded the  visualization generators and discussed how to approach the project together.

\end{itemize}



\section{Basic Visualizations}
\medskip
\begin{itemize}

    \item \boldline{Justify your choice of visualization method}
    \begin{itemize}
    % Insert text here. Bullet points can be made using '\item'. Models and techniques should be bolded using '\textbf{}'.
    \item \textbf{All ratings in the MovieLens Dataset:} To display all ratings in the MovieLens dataset, we decided it would be best to use a bar chart, with one bar for the number of 1 ratings, one bar for the number of 2 ratings, and so on up to 5. Since the data we needed to show was just the relative number of ratings of each level, we felt that this visualization would be the simplest and most effective

    \item \textbf{All ratings of the ten most popular movies:} To display the most popular movies ratings in the MovieLens dataset, we created a stacked bar chart. We placed the ten most popular movies along the x-axis, and then created a bar for each of these, for which th total height of the bar represented the total number of ratings, and each bar had different portions colored differently to show what proportion of the ratings were 1, what proportion were 2 and so on. We felt that this format allowed the chart to simulataneously convey the total number of ratings for each movie, as well as how positive in general those ratings were.

    \item \textbf{All ratings of the ten best movies:} To display the best movies ratings in the MovieLens dataset, we created a stacked bar chart. Again, we felt that this format allowed the chart to simulataneously convey the total number of ratings for each movie, as well as how positive in general those ratings were. We also felt it would be good to be able to compare this chart to the most popular movies chart. We also chose to disqualify all movies rated less than 100 times, since it could be possible to have a movie which is generally unliked, but which only a few people rated and which was rated highly by all who rated it.

    \item \textbf{All ratings of movies from three genres of your choice:} To display all ratings for the three specific genres we chose (Crime, Documentary, and Fantasy), we used a bar chart with one bar for each value for the ratings, like we used for the set of all movies. We felt that this would allow us to see how well-liked and also how polarizing genres were with respect to others and with respect to the dataset as a whole.

    \end{itemize}

    \item \boldline{Observations}
    \begin{itemize}
    % Insert text here. Bullet points can be made using '\item'.
    \item \textbf{All ratings in the MovieLens Dataset:} In the bar chart we created for all ratings, we can see a bell-curve shape. The most common rating is 4, and ratings further away from 4 get less and less common. We expected to see this, as we feel that most movies are ok, and there are a few exceptionally good movies, and a few bad movies.

    \item \textbf{All ratings of the ten most popular movies:} In the stacked bar chart for the ratings for the ten most popular movies, we can see that these movies were all rated around 500 times. We can see that these movies were commonly rated 4, except for Star Wars, which was very well-liked, and had a lot of 5 ratings. Overall, we expected the more-often ranked movies to be better rated than we saw, because we thought bad movies probably wouldn't be watched as much. However, 1 ratings were very uncommon, so maybe it is only the very very bad movies which are rarely watched.

    \item \textbf{All ratings of the ten best movies:} In the stacked bar chart for the ratings for the ten most well-liked movies, we can see that these movies were less frequently rated, usually around 200 times. In contrast to the most popular movies, and in accordance with our expecatations, these movies were rated 5 overwhelmingly often.

    \item \textbf{All ratings of movies from three genres of your choice:} In the bar charts for the three specific genres we chose (Crime, Documentary, and Fantasy), we see similar trends to the data as a whole: All three are unimodal. We note that there are fewer Documentaries, but that low ratings for documentaries are very uncommon, indicating that bad documentaries are rare. We also note that the mode of the Fantasy genre rating was 3: It seems that fantasy movies aren't as well-liked.

    \end{itemize}



\end{itemize}



\section{Matrix Factorization Algorithm}
\medskip
\begin{itemize}

    \item \boldline{Overall Implementation Architecture}
    We used the TA-provided HW6 solution for the matrix factorization portion. Once
    we had our factored matrix, we used numpy's implementation of single value decomposition
    to reduce the dimensionality of the data down to 2 dimensions. 
    
    \item \boldline{What parameters did you adjust and how?} \\

    \begin{itemize}
    \item \textbf{Stopping Criteria:} The default TA implementation of matrix factorization performs stochastic 
    gradient descent until the difference in mean-squared error between two 
    consecutive epochs is less than some $\epsilon$ fraction of the initial
    decrease in error from the start state to the first epoch. We experimented
    with varying values for this epsilon, ranging from $10e-4$ by several factors of
    $10$ in either direction, but found that unless we chose a very
    large $\epsilon$ the model converged to pretty much the same thing every time,
    so it didn't really matter what we chose. Using the default value, $\epsilon = 10e-4$,
    there was not much variation in results from run to run, so we decided to stick
    with that.

    \item \textbf{Step Size:} The step size shouldn't really affect what the
    gradient descent converges to, unless it is so big that it causes the descent
    to oscillate and diverge. The only disadvantage to choosing a very small 
    $\eta$ is that the SGD procedure will take longer to converge. We chose
    $\eta = 0.03$ which converged in a reasonable number of iterations, while
    providing the same level of accuracy as smaller $\eta$ values.

    \item \textbf{Regularization Parameter:} This was the value we experimented
    the most with. A larger $\lambda$ value will regularize the data more and bias
    the output matrices towards simpler models, while a lower $\lambda$ value leads
    to a more complex, unconstrained solution. We experimented with the following
    $\lambda$ values: $0$, $0.001$, $0.01$, $0.1$, and $1$. For the same set of
    movies, $\lambda = 0.001$ provided the most easily interpreted results, so
    we chose to use that $\lambda$ value.
    \end{itemize}

    \item \boldline{Did you make any other significant modifications or additions?} \\

    Besides the parameter tuning mentioned above we stuck to the stock TA and numpy
    implementations of matrix factorization and single value decomposition.
\end{itemize}



\section{Matrix Factorization Visualization}
\medskip
\begin{itemize}

    \item \boldline{What did you observe?} \\
    % Insert text here.

    \item \boldline{How do the ratings of the best movies compare to those of the most popular movies?} \\
    % Insert text here.

    \item \boldline{How do the ratings of the three genres you chose compare to one another?} \\

    \item \boldline{What was expected and what was surprising from the visualizations?} \\

    \item \boldline{Any other comparisons/observations?} \\

\end{itemize}



\section{Conclusion}
\medskip
\begin{itemize}

    \item \boldline{Briefly summarize your main observations} \\
    % Insert text here.

    \item \boldline{Did your visualizations help you to better understand the MovieLens dataset?} \\
    % Insert text here.

\end{itemize}



\end{document}
